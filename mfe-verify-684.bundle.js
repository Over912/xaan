"use strict";(self.webpackChunkmfeVerify=self.webpackChunkmfeVerify||[]).push([[684],{7684:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var n=s(2491),a=s(8130),c=s(1265),r=s(6678),i=s(6450),o=s(5098),l=s(723),d=s(5621);(0,o.k)(l.FH);const h=function(){return(0,d.jsx)(r.BrowserRouter,{basename:"verify",children:(0,d.jsxs)("div",{className:"app-container",children:[(0,d.jsx)(a.A,{}),(0,d.jsx)(n.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading!"}),children:(0,d.jsx)("div",{className:"container-new",children:(0,d.jsx)(i.A,{})})}),(0,d.jsx)(c.Vm,{})]})})}},8146:(e,t,s)=>{s.d(t,{A:()=>h}),s(2491);var n=s(5808),a=s(5877),c=s(6566),r=s(9908),i=s(9577),o=s(6678),l=s(5621);const{Content:d}=n.A,h=function(){const e=(0,o.useNavigate)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.A,{children:(0,l.jsx)(d,{className:"app-content notfound-container",children:(0,l.jsx)("div",{className:"frontpage-container",children:(0,l.jsxs)("div",{className:"not-found",children:[(0,l.jsx)(a.A,{className:"back-btn",onBack:()=>{e("/check")},title:"Буцах"}),(0,l.jsxs)(c.A,{children:[(0,l.jsxs)(r.A,{span:16,children:[(0,l.jsx)("h2",{children:"404"}),(0,l.jsx)("h3",{children:"Хуудас олдсонгүй."}),(0,l.jsx)("h4",{children:"Таны оруулсан хуудас байхгүй байна."})]}),(0,l.jsx)(r.A,{span:8,children:(0,l.jsx)("img",{src:i.A,alt:"not found"})})]})]})})})})})}},7297:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(2491),a=s(6678),c=s(780),r=s(6821),i=s(5621);const o=()=>{const e=(0,a.useLocation)(),t=(0,a.useNavigate)(),s=new URLSearchParams(e.search).get("code")||"";return(0,n.useEffect)((()=>{c.P.setQrCode(s),s.length<1?t("/check"):r.y.login().then((e=>{e.isAuthenticated=!0,c.P.setAuth(e),t(`/docs/${s}`)}))})),(0,i.jsx)(i.Fragment,{})}},3238:(e,t,s)=>{s.d(t,{A:()=>a}),s(2491);var n=s(5621);const a=()=>(0,n.jsx)("div",{className:"footer",children:(0,n.jsxs)("div",{className:"footer-wrapper",children:[(0,n.jsxs)("div",{className:"version",children:[(0,n.jsxs)("span",{id:"copy",children:["© ",(new Date).getFullYear()," хаан банк"]}),(0,n.jsx)("span",{className:"version",children:"Хувилбар 2.0.0"})]}),(0,n.jsxs)("div",{className:"links ",children:[(0,n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.khanbank.com/personal/news/privacy/",children:"Нууцлалын бодлого"}),(0,n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.khanbank.com/uploaded/static_files/documents/BUYN-2020.05.27.pdf",children:"Үйлчилгээний ерөнхий нөхцөл"})]})]})})},8130:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(2491),a=s(6678),c=s(1423),r=s(1265),i=s(2414),o=s(9877),l=s(5621);const d=()=>{const e=(0,a.useLocation)(),t=(0,a.useNavigate)(),s=(0,n.useContext)(r.Vs),d="/check"==e.pathname;return(0,l.jsxs)("div",{className:"header",children:[(0,l.jsxs)(a.Link,{to:"/check  ",className:"logo",children:[(0,l.jsx)("img",{src:c.A,alt:"logo"}),(0,l.jsx)(l.Fragment,{})]}),!d&&(0,l.jsx)(o.A,{title:"Гарах",placement:"bottom",children:(0,l.jsx)("a",{className:"button-circle",onClick:function(){s.show((0,l.jsx)(i.A,{title:"Та гарахдаа итгэлтэй байна уу?",onCancel:()=>s.hide(),onConfirm:()=>{t("/check"),s.hide()},iconName:"warning1",cancelText:"Үгүй",confirmText:"Тийм"}),!0,!0,"confirm-modal")},children:(0,l.jsx)("i",{className:"icon-power1"})})})]})}},1629:(e,t,s)=>{s.d(t,{A:()=>a}),s(2491);var n=s(5621);const a=()=>(0,n.jsx)("div",{className:"loader-container",children:(0,n.jsx)("div",{className:"loader",children:(0,n.jsx)("div",{className:"circle"})})})},6341:(e,t,s)=>{s.d(t,{A:()=>p});var n=s(2491),a=s(6678),c=s(780),r=s(3238),i=s(7189),o=s(7758),l=s(1629),d=s(6821),h=s(3918),u=s(4938),m=s(5621);const p=()=>{const[e,t]=(0,n.useState)(),s=(0,a.useNavigate)(),[p,x]=(0,n.useReducer)(i.j,{loading:!1}),[g]=(0,n.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"verification-container card",children:[(0,m.jsx)("div",{className:"verification-left",children:(0,m.jsxs)("div",{className:"wrapper",children:[(0,m.jsx)("h3",{className:"title",children:"Баримт бичиг цахимаар хүргэх/баталгаажуулах үйлчилгээ"}),(0,m.jsx)("span",{className:"description",children:"Дансны тодорхойлолт, хуулга, гүйлгээний баримтаа үнэн зөв, хүчин төгөлдөр эсэхийг баталгаажуулаарай."})]})}),(0,m.jsx)("div",{className:"verification-right",children:(0,m.jsxs)("div",{className:"wrapper",children:[(0,m.jsx)("h3",{className:"title",children:"Баталгаажуулах хуудас"}),(0,m.jsxs)("form",{children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{className:"form-label",children:"Баталгаажуулах код"}),(0,m.jsxs)("div",{className:"form-group-wrapper",children:[(0,m.jsx)("i",{className:"icon-lock"}),(0,m.jsx)("input",{maxLength:30,type:"text",placeholder:"Баталгаажуулах код /Verification code",className:"form-field",value:e||"",onChange:e=>{let s=e.target.value.replace(/[^a-z0-9]/gi,"");t(s.toUpperCase())}}),g&&(0,m.jsx)("span",{className:"error",children:"Баталгаажуулах код оруулна уу"})]})]}),(0,m.jsx)("button",{className:"g-recaptcha btn-main",disabled:void 0===e||e?.length<1,onClick:function(t){t&&t.preventDefault(),x({type:o.k.BLOCK}),d.y.login().then((t=>{t.isAuthenticated=!0,c.P.setAuth(t),e?h.b.getSignatureDoc(e).then((t=>{c.P.setQrCode(e),s(`/docs/${e}`)})).catch((e=>{x({type:o.k.UNBLOCK}),u.A.error(e?.response?.data?.message,{position:"top-right"})})):x({type:o.k.UNBLOCK})})).catch((e=>{x({type:o.k.UNBLOCK}),u.A.error(e?.response?.data?.message,{position:"top-right"})}))},children:"Шалгах"})]})]})}),(0,m.jsx)("div",{className:"mobile-footer",children:(0,m.jsx)(r.A,{})})]}),p.loading&&(0,m.jsx)(l.A,{}),(0,m.jsx)(r.A,{})]})}},5525:(e,t,s)=>{s.d(t,{b:()=>n});class n{dispatch=null;constructor(e){this.state=e}iniReducer(e){if(!e||e.length<0)throw new Error("reduce not implemented.");this.state=e[0],this.dispatch=e[1]}sendDispatch(e){this.dispatch&&this.dispatch(e)}getState(){return this.state}}},2414:(e,t,s)=>{s.d(t,{A:()=>a}),s(2491);var n=s(5621);const a=function(e){const{title:t,iconName:s,confirmText:a,cancelText:c,colored:r}=e;return(0,n.jsxs)("div",{className:"confirm-modal-content",children:[s&&(0,n.jsxs)("div",{className:"icon-wrapper",children:[" ",(0,n.jsx)("i",{className:`icon-${s}`})]}),(0,n.jsx)("p",{className:r?"title colored":"title",children:t}),(0,n.jsxs)("div",{className:"actions",children:[(0,n.jsx)("button",{className:"kb-button with-bordered",onClick:e.onCancel,children:c||"l_not"}),(0,n.jsx)("button",{className:"kb-button",onClick:e.onConfirm,children:a||"l_yes"})]})]})}},1265:(e,t,s)=>{s.d(t,{Vm:()=>x,Vs:()=>p});var n=s(2491),a=s.n(n),c=s(6155),r=s(3946),i=s(5525),o=s(4566),l=s(5621);class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5?arguments[5]:void 0,r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];this.content=e,this.styleName=t,this.closable=s,this.backpress=n,this.spinning=a,this.callBack=c,this.visible=r}update(e){this.content=e.content,this.visible=e.visible,this.styleName=e.styleName,this.closable=e.closable,this.backpress=e.backpress,this.spinning=e.spinning,this.callBack=e.callBack}}const h={currentItem:new d((0,l.jsx)("div",{}),void 0,!0,!0,!1,void 0,!1),currentIndex:-1,contents:new Array};class u extends i.b{reducer(e,t){const{currentItem:s}=e,{index:n,status:a,param:c}=t,r="CLEAN"==a?new Array:"ADD"==a&&c?[...e.contents,c]:e.contents;let i=r.findIndex((e=>e.content==(c?c.content:s.content))),l=c||s;const d=o.A.findAnyByIndex(n,r);if(d)switch(a){case"PREV":r.splice(n,1),i=n-1;l=o.A.findAnyByIndex(i,r)||h.currentItem;break;case"REMOVE":r.splice(n,1),i=r.findIndex((e=>e.content==s.content));break;case"UPDATE":c&&d.update(c)}return{...e,currentItem:l,currentIndex:i,contents:r}}getCurerntItem(){return this.state.currentItem}isVisible(){return this.getCurerntItem().visible}isSpinning(){return this.getCurerntItem().spinning}isBackPress(){return this.getCurerntItem().backpress}hasStyleName(){const e=this.getStyleName();return!(!e||""===e)}getStyleName(){return this.getCurerntItem().styleName||""}getContent(){return this.getCurerntItem().content}setSpinning(e){const{currentIndex:t,currentItem:s}=this.getState(),{visible:n,content:a,closable:c,styleName:r,backpress:i,callBack:o}=s;this.sendDispatch({index:t,status:"UPDATE",param:new d(a,r,c,i,e,o,n)})}show(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;this.sendDispatch({index:-1,status:"NONE",param:new d(e,n,t,s,!1,a)})}setBackPress(e){const{currentIndex:t,currentItem:s}=this.getState(),{closable:n,spinning:a,visible:c,content:r,styleName:i,callBack:o}=s;this.sendDispatch({index:t,status:"UPDATE",param:new d(r,i,n,e,a,o,c)})}hide(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{callBack:t}=this.getCurerntItem();t&&e&&t(),this.sendDispatch({index:-1,status:"CLEAN",param:h.currentItem})}add(e){this.sendDispatch({index:-1,status:"ADD",param:e})}prev(){const{currentIndex:e}=this.getState();this.sendDispatch({index:e,status:"PREV"})}remove(e){const{contents:t}=this.getState();o.A.findAnyByIndex(e,t)&&this.sendDispatch({index:e,status:"REMOVE"})}isClosable(){return this.getCurerntItem().closable}}const m=new u(h),p=a().createContext(m);function x(){return m.iniReducer((0,n.useReducer)(m.reducer,h)),(0,l.jsx)(p.Consumer,{children:e=>e.isVisible()?(0,l.jsx)(c.A,{visible:!0,closable:e.isClosable(),onOk:()=>{e.isBackPress()&&e.hide(!0)},onCancel:()=>{e.isBackPress()&&e.hide(!0)},footer:null,className:"app-modal"+(e.hasStyleName()?` ${e.getStyleName()}`:""),children:e.isSpinning()?(0,l.jsx)("div",{className:"loader",children:(0,l.jsx)(r.A,{})}):e.getContent()}):(0,l.jsx)(l.Fragment,{})})}},4566:(e,t,s)=>{s.d(t,{A:()=>n});const n={findAnyByIndex:function(e,t){return e>=0&&t.length>e?t[e]:void 0}}},5098:(e,t,s)=>{s.d(t,{k:()=>n});const n=e=>{e.interceptors.request.use((e=>(e.headers["g-recaptcha"]=localStorage.getItem("_grecaptcha"),e)),(e=>Promise.reject(e)))}},7758:(e,t,s)=>{s.d(t,{k:()=>n});const n={BLOCK:"block",UNBLOCK:"unblock"}},7189:(e,t,s)=>{s.d(t,{j:()=>a});var n=s(7758);function a(e,t){switch(t.type){case n.k.BLOCK:return{loading:!0};case n.k.UNBLOCK:return{loading:!1};default:return e}}},6450:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(8146),a=s(6341),c=s(780),r=s(7297),i=s(6678),o=s(137),l=s(5621);const d=()=>(0,l.jsxs)(i.Routes,{children:[(0,l.jsx)(i.Route,{path:"404",element:(0,l.jsx)(n.A,{})}),(0,l.jsx)(i.Route,{path:"check",element:(0,l.jsx)(a.A,{})}),(0,l.jsx)(i.Route,{path:"verification",element:(0,l.jsx)(r.A,{})}),(0,l.jsx)(i.Route,{path:"/*",element:c.P.isAuthenticated()?(0,l.jsx)(o.A,{}):(0,l.jsx)(i.Navigate,{replace:!0,to:"check"})})]})},137:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(6678),a=s(2491),c=s.n(a),r=s(5621);const i=c().lazy((()=>s.e(457).then(s.bind(s,3457)))),o=c().lazy((()=>s.e(832).then(s.bind(s,3832)))),l=()=>(0,r.jsxs)(n.Routes,{children:[(0,r.jsx)(n.Route,{path:"docs/:qrCode",element:(0,r.jsx)(i,{})}),(0,r.jsx)(n.Route,{path:"faq",element:(0,r.jsx)(o,{})})]})},6821:(e,t,s)=>{s.d(t,{y:()=>a});var n=s(723);const a={login:()=>n.Kp.postMiddle("/auth/token",{grant_type:"client_credentials",channel:"verify"})}},3918:(e,t,s)=>{s.d(t,{b:()=>a});var n=s(723);const a={getSignatureDoc:e=>n.Kp.get(`/signature/document/findDsignatureDocumentsQrCode?qrCode=${e}`),downloadSignatureDoc:e=>n.Kp.postBlob(`/signature/document/getDsignaturePdf/${e}`)}},780:(e,t,s)=>{s.d(t,{P:()=>n});const n={getAccessToken:function(){const e=localStorage.getItem("_rsu");return e?.access_token},setPathFrom:function(e){localStorage.setItem("pathFrom",e)},isAuthenticated:function(){const e=localStorage.getItem("_rsu"),t=JSON.parse(e);return t?.isAuthenticated},setAuth:function(e){localStorage.setItem("_rsu",JSON.stringify(e))},setQrCode:function(e){localStorage.setItem("qrCode",e)},clear:function(){localStorage.removeItem("_rsu")},clearAll:function(){localStorage.removeItem("_rsu"),localStorage.removeItem("qrCode"),localStorage.removeItem("_grecaptcha")},clearResponse:function(){localStorage.removeItem("response")}}},1423:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"9da82baca9a5d9674891ac9d7745fa91.svg"},9577:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"f5bec9eae3d70ef3200bddfb5988e411.svg"}}]);